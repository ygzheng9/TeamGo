<%= simple_form_for(@taskline) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.association :project, label: "项目", label_method: :name, value_method: :id, prompt: "请选定项目", include_blank: false %>
    <%= f.association :uplevel, collection: Taskline.all, label: "上一级", label_method: :full_display_name, value_method: :id, prompt: "请选定上一层级", include_blank: true %>
    <%= f.association :task_type, collection: TaskType.all, label: "任务类型", label_method: :full_display_name, value_method: :id, prompt: "请选定任务类型", include_blank: true, disable: true %>
    <%= f.input :display_seq, label: '排序编号'  %>
    <%= f.input :level, label: '任务层级'  %>
    <%= f.input :code, label: "任务代码" %>
    <%= f.input :name, label: '任务名称' %>
    <%= f.input :desc, label: '任务描述'  %>
    <%= f.input :planned_manhours, label: "计划工时(小时)"  %>

    <%= f.association :teammember, label: "负责人", label_method: :display_name, value_method: :id, prompt: "请选定负责人", include_blank: false %>

    <%= f.input :planned_start_dt, as: :string, label: "计划开始时间", input_html: { readonly: true, class: :datepicker } %>
    <%= f.input :planned_end_dt, as: :string, label: "计划结束时间", input_html: { readonly: true, class: :datepicker } %>
    <%= f.input :actual_start_dt, as: :string, label: "实际开始时间", input_html: { readonly: true, class: :datepicker } %>
    <%= f.input :actual_end_dt, as: :string, label: "实际结束时间", input_html: { readonly: true, class: :datepicker } %>

    <%= f.input :actual_manhours, label: "实际工时(小时)"  %>
    <%= f.input :completion, label: "当前完工比例"  %>
  </div>

  <div class="form-actions">
    <%= f.button :submit %>
  </div>
<% end %>

<script type="text/javascript">
  $('.datepicker').datepicker({
    format: "yyyy/mm/dd",
    autoclose: true,
    todayHighlight: true
});
</script>